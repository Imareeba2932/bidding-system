<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login - Auction System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { 
      background: #f8f9fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .navbar-brand { font-weight: bold; letter-spacing: 1px; }
    .navbar { box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
    .login-container {
      min-height: calc(100vh - 76px);
      display: flex;
      align-items: center;
    }
    .form-section {
      background: white;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }
    .form-container {
      width: 100%;
      max-width: 450px;
    }
    .image-section {
      background-image: url("https://i.makeagif.com/media/9-18-2018/r21do1.gif");
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .image-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/><circle cx="10" cy="60" r="0.5" fill="rgba(255,255,255,0.05)"/><circle cx="90" cy="40" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
      opacity: 0.3;
    }
    .image-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: white;
      padding: 2rem;
    }
    .form-control {
      border: 2px solid #e9ecef;
      border-radius: 10px;
      padding: 12px 15px;
      transition: all 0.3s ease;
      background: #f8f9fa;
    }
    .form-control:focus {
      border-color: #ffc107;
      box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
      background: white;
    }
    .btn-login {
      background: linear-gradient(45deg, #ffc107, #ff8c00);
      border: none;
      border-radius: 10px;
      padding: 12px 30px;
      font-weight: bold;
      transition: all 0.3s ease;
      width: 100%;
    }
    .btn-login:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
    }
    .validation-message {
      font-size: 0.875rem;
      margin-top: 5px;
    }
    .valid-feedback, .invalid-feedback {
      display: block;
    }
    .floating-icon {
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    .feature-list {
      list-style: none;
      padding: 0;
    }
    .feature-list li {
      padding: 0.5rem 0;
      color: rgba(255, 255, 255, 0.9);
    }
    .feature-list li i {
      color: #ffc107;
      margin-right: 0.5rem;
    }
    .welcome-back {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 2rem;
      backdrop-filter: blur(10px);
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/"><i class="fas fa-gavel mr-2"></i>Auction System</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link active" href="/login"><i class="fas fa-sign-in-alt mr-1"></i>Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/register"><i class="fas fa-user-plus mr-1"></i>Register</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid p-0">
    <div class="row no-gutters">
      <!-- Left Side - Form Section -->
      <div class="col-lg-6">
        <div class="form-section">
          <div class="form-container">
            <div class="text-center mb-4">
              <h3 class="font-weight-bold text-dark">Welcome Back</h3>
              <p class="text-muted">Sign in to your account to continue</p>
            </div>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert">
                      <span>&times;</span>
                    </button>
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
            
            <form method="post" id="loginForm" novalidate>
              <div class="form-group">
                <label class="font-weight-bold"><i class="fas fa-envelope mr-2 text-warning"></i>Email</label>
                <input name="email" id="email" type="email" class="form-control" placeholder="Enter your email" required>
                <div class="invalid-feedback" id="emailError"></div>
                <div class="valid-feedback" id="emailSuccess"></div>
              </div>
              
              <div class="form-group">
                <label class="font-weight-bold"><i class="fas fa-lock mr-2 text-warning"></i>Password</label>
                <input name="password" id="password" type="password" class="form-control" placeholder="Enter your password" required>
                <div class="invalid-feedback" id="passwordError"></div>
                <div class="valid-feedback" id="passwordSuccess"></div>
              </div>
              
              <div class="form-group">
                <div class="form-check">
                  <input type="checkbox" class="form-check-input" id="rememberMe">
                  <label class="form-check-label" for="rememberMe">
                    Remember me
                  </label>
                </div>
              </div>
              
              <div class="text-center">
                <button type="submit" class="btn btn-warning btn-login text-dark font-weight-bold" id="submitBtn">
                  <i class="fas fa-sign-in-alt mr-2"></i>Sign In
                </button>
              </div>
              
              <div class="text-center mt-3">
                <p class="text-muted">Don't have an account? 
                  <a href="/register" class="text-warning font-weight-bold">Sign Up</a>
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
      
      <!-- Right Side - Image Section -->
      <div class="col-lg-6">
        <div class="image-section">
          <div class="image-content">
            <div class="welcome-back">
              <i class="fas fa-sign-in-alt fa-5x text-warning floating-icon mb-4"></i>
              <h2 class="font-weight-bold mb-3">Welcome Back!</h2>
              <p class="lead mb-4">Sign in to access your account and continue bidding</p>
              
              <ul class="feature-list text-left">
                <li><i class="fas fa-check"></i>Access your bidding history</li>
                <li><i class="fas fa-check"></i>Manage your auctions</li>
                <li><i class="fas fa-check"></i>Real-time notifications</li>
                <li><i class="fas fa-check"></i>Secure transactions</li>
                <li><i class="fas fa-check"></i>24/7 support access</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    $(document).ready(function() {
      // Real-time validation
      $('#email').on('input', function() {
        validateEmail();
      });
      
      $('#password').on('input', function() {
        validatePassword();
      });
      
      // Form submission
      $('#loginForm').on('submit', function(e) {
        e.preventDefault();
        if (validateForm()) {
          this.submit();
        }
      });
      
      function validateEmail() {
        const email = $('#email').val().trim();
        
        if (email.length === 0) {
          hideValidation('email');
          return false;
        } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          showError('email', 'Please enter a valid email address');
          return false;
        } else {
          showSuccess('email', 'Email format is valid');
          return true;
        }
      }
      
      function validatePassword() {
        const password = $('#password').val();
        
        if (password.length === 0) {
          hideValidation('password');
          return false;
        } else if (password.length < 6) {
          showError('password', 'Password must be at least 6 characters long');
          return false;
        } else {
          showSuccess('password', 'Password looks good');
          return true;
        }
      }
      
      function validateForm() {
        const emailValid = validateEmail();
        const passwordValid = validatePassword();
        
        return emailValid && passwordValid;
      }
      
      function showError(field, message) {
        $(`#${field}`).addClass('is-invalid').removeClass('is-valid');
        $(`#${field}Error`).text(message).show();
        $(`#${field}Success`).hide();
      }
      
      function showSuccess(field, message) {
        $(`#${field}`).addClass('is-valid').removeClass('is-invalid');
        $(`#${field}Success`).text(message).show();
        $(`#${field}Error`).hide();
      }
      
      function hideValidation(field) {
        $(`#${field}`).removeClass('is-valid is-invalid');
        $(`#${field}Error, #${field}Success`).hide();
      }
    });
  </script>
</body>
</html>